"use strict";!function(){var a=angular.module("tableHeroApp",["ngCookies","ngResource","ngSanitize","ngMessages","ngLodash","ui.router","ui.bootstrap","ngAnimate","gilbox.sparkScroll","ngFileUpload"]).config(["$urlRouterProvider","$locationProvider","$httpProvider",function(a,b,c){a.otherwise("/"),b.html5Mode(!0),c.interceptors.push("TokenInterceptor")}]).run(["$rootScope","Auth","Restaurant","$state","lodash","$http","thConfig",function(a,b,c,d,e,f,g){a.requireLogin=["account","manage","confirm","dns"],a.$on("$stateChangeStart",function(h,i,j,k,l){var m=i.name,n=k.name;e.includes(a.requireLogin,m)&&!b.isLoggedIn()&&(h.preventDefault(),d.go("login")),"landing"===n&&"preview"===m&&f.post(g.restaurantEndpoint+c.restaurant.restaurantMasterId+"/notify/previewNotify",c.restaurant),"logout"===m&&d.go("landing")})}]);(function(){var b=angular.injector(["ng"]),c=b.get("$http");return c.get("/api/v1/app/getEnv").then(function(b){a.constant("thConfig",b.data.uiConfig)},function(a){console.error("Could not bootstrap application, while loading configuration file."),console.error(a)})})().then(function(){angular.element(document).ready(function(){angular.bootstrap(document,["tableHeroApp"])})})}(),angular.module("tableHeroApp").controller("AccountController",["$scope","$http","Auth","Restaurant","restaurants","thConfig","Modal","$state",function(a,b,c,d,e,f,g,h){a.user=c.getUser(),a.restaurants=e,a.verificationMailSent=!1,a.openEditDialog=function(){g.editprofile()},a.openChangePasswordDialog=function(){g.changePassword()},a.goToDns=function(a){h.go("dns",{restaurantMasterId:a})},a.goToManage=function(a){h.go("manage",{restaurantMasterId:a})},a.resendVerificationMail=function(c){a.verificationMailSent=!1;var d="".concat(f.userEndpoint+a.user.userId+"/resendVerificationMail"),e={restaurantMasterId:c};return b.post(d,e).then(function(b){a.verificationMailSent=!0})}}]),angular.module("tableHeroApp").config(["$stateProvider",function(a){a.state("account",{url:"/account",templateUrl:"app/account/account.html",controller:"AccountController",resolve:{restaurants:["$http","thConfig","Auth","thConstants","lodash",function(a,b,c,d,e){var f="".concat(b.userEndpoint,c.getUser().userId,"/restaurants");return a.get(f).then(function(a){return e.map(a,function(a){return e.assign({},a,{previewUrl:"".concat(b.urlPrefix,a.slug,b.previewEndpoint),isVerified:a.state===d.STATE.VERIFIED,isMigrated:a.state===d.STATE.MIGRATED})})})}]}})}]),angular.module("tableHeroApp").controller("AdminController",["$scope","$http","$state","Auth","thConfig","Restaurant","Modal","$stateParams",function(a,b,c,d,e,f,g,h){a.user={},a.adminLogin=function(){return a.user.error="",a.user&&a.user.email&&a.user.password?b.post("".concat(e.adminEndpoint+"login"),a.user).then(function(a){d.login(a),c.go("account"),g.closeModal()})["catch"](function(b){a.user.error="Invalid email address or password",d.logout()}):(a.user.error="Required fields are missing.",!1)}}]),angular.module("tableHeroApp").config(["$stateProvider",function(a){a.state("adminLogin",{url:"/admin/login",templateUrl:"app/admin/admin-login.html",controller:"AdminController"}).state("adminDashboard",{url:"/admin/dashboard",templateUrl:"app/admin/admin-dashboard.html",controller:"AdminController"})}]),angular.module("tableHeroApp").controller("ConfirmationController",["$scope","Restaurant","$state","Auth","thConfig","Modal",function(a,b,c,d,e,f){a.restaurant=b.get(),a.user=d.getUser(),a.slug=a.restaurant.slug,a.firstName=a.user.firstName,a.email=a.user.email,a.previewUrl="".concat(e.urlPrefix,a.slug,e.previewEndpoint),a.goToDns=function(){c.go("dns")},a.goToAccount=function(){f.closeModal(),c.go("account")}}]),angular.module("tableHeroApp").config(["$stateProvider",function(a){a.state("confirmation",{url:"/confirm",templateUrl:"app/confirmation/confirmation.html",controller:"ConfirmationController"})}]),angular.module("tableHeroApp").controller("DnsCtrl",["$scope","$http","data","thConfig","$state",function(a,b,c,d,e){a.restaurant=c.restaurantData,a.state=c.restaurantData.restaurantState,a.dnsInfo=c.dnsInfo,a.website=c.restaurantData.website,a.previewUrl="".concat(d.urlPrefix,a.restaurant.slug,d.previewEndpoint),c.dnsInfo&&c.dnsInfo.Registrar?a.isRegistrarAvailable=!0:a.isRegistrarAvailable=!1,a.defaultRegistrars=["GoDaddy.com, LLC","eNom, Inc.","Network Solutions, LLC","Wild West Domains, LLC","Register.com, Inc.","FastDomain Inc.","Domain.com, LLC","Name.com, Inc.","CSC Corporate Domains, Inc.","TurnCommerce, Inc. DBA NameBright.com"],a.saveDnsInfo=function(){var c=a.restaurant.restaurantMasterId;b.post(d.restaurantEndpoint+c+"/dns",{whoisData:a.dnsInfo}).then(function(a){e.go("account")})}}]),angular.module("tableHeroApp").config(["$stateProvider",function(a){a.state("dns",{url:"/dns?restaurantMasterId",templateUrl:"app/dns/dns.html",controller:"DnsCtrl",resolve:{data:["$http","thConfig","Auth","$stateParams",function(a,b,c,d){var e={};return a.get(b.restaurantEndpoint+d.restaurantMasterId).then(function(c){return e.restaurantData=c,a.get(b.restaurantEndpoint+d.restaurantMasterId+"/dns/"+e.restaurantData.website)}).then(function(a){return e.dnsInfo=a,e})["catch"](function(a){return console.error(a),e})}]}})}]),angular.module("tableHeroApp").controller("FaqController",["$scope",function(a){a.faqs=[{question:"Why should I verify my business?",answer:"Verifying your business helps us ensure that you are in fact you. Your TableHero site can only be made modified with a verified business account. We will never spam you, sell your email address, or engage in other nefarious activities. Pinky swear."},{question:"How do I verify my business?",answer:"Check your inbox immediately after signing up. You should have an email from support@tablehero.com with the verification instructions in it. If you can’t find the email in your inbox (or, God forbid, your Spam folder!), you can log into your account on TableHero.com, and click on the resend verification email button on the accounts page. And, of course, if all this is just too much to handle, please feel free to send us a note on support@tablehero.com."},{question:"I haven’t received the verification email message from TableHero Support. What should I do?",answer:"You’ve looked through your inbox and your spam folders, right? Ok, if you still can’t find the verification email, log into your account on TableHero.com, check that you have provided the correct email address, and click on the resend verification email button on the accounts page. Still having problems? Yikes! Email us at support@tablehero.com"},{question:"I don’t have access to the email address I used to sign up on TableHero. What do I do now?",answer:"Have no fear. Just log in with the same credentials you used to sign up and change your email address on the accounts page. Remember that you will have to verify your email address again once you make this change."},{question:"I can’t find my restaurant. How can I get my restaurant site?",answer:"We want to hear from you right away - please contact us on support@tablehero.com, and our heroes will help you out."},{question:"How do I know if my account is unverified?",answer:"Once you log into your account on TableHero, your account page will display a notification about your verification status. Also, you will not be able to customize your restaurant site while your account is unverified."},{question:"Can I customise the website created on TableHero?",answer:"We want you to focus on what you do best: provide an amazing experience to your customers (and not have to worry about tech stuff, like your website!). This is what makes TableHero special - your website manages itself, and you should not have to worry about it again. But we do realize that you, being the business owner, might want to make minor tweaks - change the prices on your menu, maybe add a new tagline. For now, please email any changes you’d like to support@tablehero.com. In the very near future, we will enable you make your own changes over something as simple as a text message - imagine that! Stay tuned for the release of that tool, but for now, don’t hesitate to email us."},{question:"My website allows users to make reservations through OpenTable/Yelp’s Eat24. Will this work with TableHero’s website?",answer:"Yes! Our technology automatically pulls in your OpenTable website integration and enables it on your new TableHero website. The “Book a Table” button on your website will allow your customers to continue to make reservations via OpenTable or Eat24."},{question:"Can I go back to my old site if I don’t want to use this website in the future?",answer:"The short answer is of course you can, but boy would we be sad to see you go! If you want to migrate away from TableHero to another website, you will need to have your domain name point to the new site. This is typically done by logging into your domain registrar (like GoDaddy, for example), and changing the value of the Nameservers (yikes, sorry for all this tech talk!). We will do everything we can to make your transition a smooth one, so don’t worry."},{question:"Can I just get a new mobile site but use my existing site for desktop users?",answer:"Unfortunately, that’s not a feature we enable today. When you come to TableHero, it’s all or nothing. Having that said, we’re obsessed with our customer’s happiness, and if we hear this request often enough, we may just build it in the future. For now, consider migrating both your desktop and your mobile experiences to us. We’ve put a lot of thought into the design and user experiences of both, and we think you will be very pleased with how your customers respond to the beautiful, new you (we mean your websites, of course)."},{question:"How long does it take for my website to go live?",answer:"Your TableHero site is generated the moment you hit the “Preview” button. Once your account is verified, your site is live! But you now want your domain name to reflect the newly generated TableHero site. In order for this to happen, we need to make some changes in your domain registrar account (your GoDaddy account, for example). Once those changes are made, it can take 24-48 hours for the changes to reflect."},{question:"Will my website experience ‘any’ downtime?",answer:"Not if we can help it :-) TableHero does not have any scheduled downtime at the moment. We will be sure to make such information available to you, as early as possible."},{question:"I have more than one question. How do I report problems with my website? Is there a toll free number I can call?",answer:"You can email us on support@tablehero.com. We are also super quick with the messages customers send us on Twitter or Facebook."},{question:"How do I log feature requests and submit feedback?",answer:"Nice! Please email us at support@tablehero.com and one of our heroes will get back to you. "},{question:"Will I lose my data if I do not enroll? Can I come back later to enroll?",answer:"Nope! TableHero’s algorithm generates websites on the fly. We do not store any data unless you enroll. So please feel free to enroll as and when you see the need. Having said that, go do it NOW :)"},{question:"I entered the wrong email address to preview my site. How can I change that as I cannot verify that email?",answer:"D’oh! Not to worry, just log in with the wrong email address and password chosen at the time of registration. You will be directed to your account details screen where you can edit the email address. Please feel free to write to us at support@tablehero.com in case you need further help."},{question:"Why should I link my domain to TableHero website?",answer:"Linking your existing domain to your new TableHero website will ensure that your online visitors will see the new beautifully designed website. In order for that to happen, we need to make some changes in your domain registrar account (i.e your GoDaddy account, for example). Once those changes are made, it can take 24-48 hours for the changes to be visible. "},{question:"Why should I share my domain credentials with TableHero?",answer:"Firstly, your domain credentials are safe with TableHero. Secondly, we need it to redirect your web traffic to your TableHero site. If you do not wish to share your domain credentials with us, please write to us at support@tablehero.com and we will talk you through the migration process."}]}]),angular.module("tableHeroApp").config(["$stateProvider",function(a){a.state("faq",{url:"/faq",templateUrl:"app/faq/faq.html",controller:"FaqController"})}]),angular.module("tableHeroApp").controller("LandingController",["$scope","$http","$state","thConfig","Restaurant","Auth","$sce","$location","$anchorScroll","lodash","Modal",function(a,b,c,d,e,f,g,h,i,j,k){a.isLoggedIn=f.isLoggedIn(),a.user=f.getUser(),a.hideVideoFrame=!0,a.videoUrl=void 0,a.showEmptyError=!1,a.showValidationError=!1,a.isValidRestaurantSelected=!1,k.closeModal(),a.suggestRestaurants=function(c){return a.isValidRestaurantSelected=!1,d&&d.autoSuggestEndpoint?b.get(d.autoSuggestEndpoint+c).then(function(a){return a.map(function(a){var b=a.name+"<span>"+a.address.addressLine1+", "+a.address.city+"</span>";return j.extend(a,{displayValue:b})})}):(console.error("Restaurant suggest URL is not defined."),!1)},a.onRestaurantSelect=function(b,d,f){a.showEmptyError=!1,a.showValidationError=!1,a.isValidRestaurantSelected=!0,f=f.toString().replace("</span>"," ").replace("<span>"," "),b.displayValue=f,a.landingError="",e.set(b),a.restaurant=b,c.go("preview",{slug:b.slug})},a.gotoVideo=function(){h.hash("video"),i(),a.viewAd()},a.getStarted=function(){h.hash("firstFold"),i(),angular.element(document).find("#restaurantName")[0].focus()},a.viewAd=function(){a.hideVideoFrame=!1,a.videoUrl=g.trustAsResourceUrl(d.videoEndpoint)},a.checkError=function(){var b=a.lookup.restaurantName.$viewValue;!b||j.isEmpty(b)?a.showEmptyError=!0:a.lookup.restaurantName.$dirty&&b&&!a.isValidRestaurantSelected&&(a.showEmptyError=!1,a.showValidationError=!0)},a.hideError=function(){a.showEmptyError=!1,a.showValidationError=!1}}]),angular.module("tableHeroApp").config(["$stateProvider",function(a){a.state("landing",{url:"/",templateUrl:"app/landing/landing.html",controller:"LandingController"})}]),angular.module("tableHeroApp").controller("ManageController",["$scope","$http","$sce","thConfig","$state","restaurantData","lodash","thConstants","Upload","$q",function(a,b,c,d,e,f,g,h,i,j){var k=function(a,b){var c=[];return g.each(a,function(a,d){b&&(d=b+"["+d+"]"),g.isObject(a)?c.push(k(a,d)):c.push(encodeURIComponent(d)+"="+encodeURIComponent(a))}),c.join("&")};a.editedRestaurant=g.pick(f.restaurant,"name","subtitle","template","theme","aboutus"),a.photos=f.photos,a.restaurant=f.restaurant,a.allTemplates=g.keys(h.templateThemeMap),a.templateThemes=h.templateThemeMap[a.editedRestaurant.template],a.previewUrl=c.trustAsResourceUrl("".concat(d.iFramePreviewEndpoint,a.restaurant.restaurantMasterId)),a.subtitleLength=a.editedRestaurant.subtitle.length||0,a.reloadPreview=function(){var b={logo:a.photos.logo,bg:a.photos.coverPhoto};b.logo.tag="logo",b.bg.tag="bg";var e=g.assign({},a.editedRestaurant,{photos:b}),f=d.editPreviewEndpoint+a.restaurant.restaurantMasterId+"?"+k(e);a.previewUrl=c.trustAsResourceUrl(f)},a.upload=function(b,c,e){var f={url:"".concat(d.restaurantEndpoint+a.restaurant.restaurantMasterId+"/uploadFile"),data:{file:b,type:e}};i.upload(f).then(function(b){"logo"===e?a.photos.logo={url:b.url,versions:{small:b,logo:b}}:"bg"===e&&(a.photos.coverPhoto={url:b.url,versions:{small:b,logo:b}}),a.reloadPreview()})["catch"](function(a){alert("Something went wrong uploading your image"),console.error(a)})},a.isThemeSelected=function(){return a.editedRestaurant.theme===this.theme.themeName},a.changeTheme=function(){a.editedRestaurant.theme=this.theme.themeName,a.reloadPreview()},a.getInputLength=function(b){a.subtitleLength=a.editedRestaurant.subtitle.length},a.resetForm=function(){a.editedRestaurant=g.pick(f.restaurant,"name","subtitle","template","theme","aboutus"),a.reloadPreview()},a.updateRestaurant=function(){var c=b.put(d.restaurantEndpoint+a.restaurant.restaurantMasterId,a.editedRestaurant),e=b.put(d.restaurantEndpoint+a.restaurant.restaurantMasterId+"/editImages",a.photos);j.all([c,e]).then(function(b){f.restaurant=b[0],f.photos=a.photos,a.editedRestaurant=g.pick(f.restaurant,"name","subtitle","template","theme","aboutus")})["catch"](function(a){})}}]),angular.module("tableHeroApp").config(["$stateProvider",function(a){a.state("manage",{url:"/manage?restaurantMasterId",templateUrl:"app/manage/manage.html",controller:"ManageController",resolve:{restaurantData:["$http","thConfig","Auth","$state","$stateParams",function(a,b,c,d,e){var f={};return a.get(b.restaurantEndpoint+e.restaurantMasterId).then(function(c){f.restaurant=c;var d={restaurant:c,attributes:["photos"]};return a.post(b.restaurantEndpoint+e.restaurantMasterId+"/format",d)}).then(function(a){return f.photos=a.photos,f})["catch"](function(a){console.error(a),c.logout(),d.go("login")})}]}})}]),angular.module("tableHeroApp").controller("PreviewController",["$scope","$state","$sce","Modal","Auth","$http","thConfig","lodash","thConstants","previewData",function(a,b,c,d,e,f,g,h,i,j){a.previewData=j,a.restaurant=j.restaurant,a.previewUrl=c.trustAsResourceUrl("".concat(g.iFramePreviewEndpoint,a.restaurant.restaurantMasterId));var k=e.isLoggedIn(),l=a.restaurant.state===i.STATE.AVAILABLE||a.restaurant.state===i.STATE.CLAIMED;a.claim=function(){if(!k&&l)d.signup();else if(k&&j.hasSite)b.go("account");else if(k&&!j.hasSite&&l){var c="".concat(g.restaurantEndpoint+a.restaurant.restaurantMasterId+"/state/claim"),h={user:e.getUser(),userId:e.getUser().userId};f.put(c,h).then(function(a){e.setUser(a.user),d.closeModal(),d.confirmation()})}else l?(console.error("Something went wrong while claiming website."),b.go("landing")):d.claimError()}}]),angular.module("tableHeroApp").config(["$stateProvider",function(a){a.state("preview",{url:"/preview/:slug",templateUrl:"app/preview/preview.html",controller:"PreviewController",resolve:{previewData:["Auth","$stateParams","$http","thConfig","Restaurant",function(a,b,c,d,e){var f=b.slug,g="".concat(d.restaurantEndpoint+"slug/"+f),h={};return c.get(g).then(function(b){return e.set(b),h.restaurant=b,a.isLoggedIn()&&a.hasRestaurant(b.restaurantMasterId)?(h.footerLine="You already have this website",h.buttonText="Go to my account",h.hasSite=!0):(h.footerLine="Make this website yours",h.buttonText="Claim your site",h.hasSite=!1),h})}]}})}]),angular.module("tableHeroApp").factory("Auth",["$window","$cookies","lodash",function(a,b,c){return{getUser:function(){return b.getObject("user")},setUser:function(a){return b.putObject("user",a),b.putObject("role",a.role),b.putObject("claimedRestaurants",a.claimedRestaurants),b.putObject("verifiedRestaurants",a.verifiedRestaurants),a},getToken:function(){return b.getObject("token")},setToken:function(a){return b.putObject("token",a),a},getRole:function(){return b.getObject("role")},getClaimedRestaurants:function(){return b.getObject("claimedRestaurants")},getVerifiedRestaurants:function(){return b.getObject("verifiedRestaurants")},getAllRestaurants:function(){var a=b.getObject("claimedRestaurants"),d=b.getObject("verifiedRestaurants");return c.union(a,d)},isLoggedIn:function(){return void 0!==this.getUser()&&void 0!==this.getToken()},hasClaimedRestaurant:function(a){return a?!1:c.includes(this.getClaimedRestaurants(),a)},hasVerifiedRestaurant:function(a){return a?!1:c.includes(this.getVerifiedRestaurants(),a)},hasRestaurant:function(a){return a&&""!==a?c.includes(this.getAllRestaurants(),a):!1},logout:function(){b.remove("token"),b.remove("user"),b.remove("role"),b.remove("claimedRestaurants"),b.remove("verifiedRestaurants")},login:function(a){a&&a.token&&a.user?(b.putObject("token",a.token),b.putObject("user",a.user),b.putObject("role",a.user.role),b.putObject("claimedRestaurants",a.user.claimedRestaurants),b.putObject("verifiedRestaurants",a.user.verifiedRestaurants)):this.logout()}}}]),angular.module("tableHeroApp").factory("Restaurant",["$rootScope",function(a){return{set:function(a){a&&a.restaurantMasterId||console.error("Invalid restaurant data."),this.restaurant=_.assign({},this.restaurant,a)},get:function(){return this.restaurant}}}]),angular.module("tableHeroApp").factory("TokenInterceptor",["$q","Auth",function(a,b){return{request:function(a){return a.headers=a.headers||{},b.isLoggedIn()&&(a.headers["x-access-token"]=b.getToken(),a.headers["x-access-email"]=b.getUser().email),a},requestError:function(b){return console.error("You are not allowed to access this resource"),a.reject(b)},response:function(a){return a&&200===a.status&&a.data&&"success"===a.data.status?a.data.response:a},responseError:function(c){return null===c||401!==c.status&&403!==c.status||b.logout(),a.reject(c)}}}]),angular.module("tableHeroApp").value("thConstants",{templateThemeMap:{modern:[{themeName:"red",themeColor:"#E53935"},{themeName:"green",themeColor:"#7CB342"},{themeName:"blue",themeColor:"#2196F3"},{themeName:"brown",themeColor:"#795548"},{themeName:"orange",themeColor:"#D25F20"}],cafe:[{themeName:"red",themeColor:"#FF5858"},{themeName:"green",themeColor:"#99C758"},{themeName:"blue",themeColor:"#57ADE5"}],classic:[{themeName:"blue",themeColor:"#58A0CF"},{themeName:"brown",themeColor:"#E39E59"},{themeName:"gold",themeColor:"#E8D192"},{themeName:"red",themeColor:"#E89292"}]},STATE:{AVAILABLE:"available",CLAIMED:"claimed",VERIFIED:"verified",MIGRATED:"migrated"}}),angular.module("tableHeroApp").controller("UserController",["$scope","$http","$state","Auth","thConfig","Restaurant","Modal","$stateParams",function(a,b,c,d,e,f,g,h){a.isLoggedIn=d.isLoggedIn(),a.loggedInUser=d.getUser(),a.isLoggedIn&&(a.loggedInUser.fullName=d.getUser().firstName+" "+d.getUser().lastName),a.user={},a.resetMailSent=!1,a.restaurant=f.get(),a.showSignin=!1,a.closeModal=function(){return g.closeModal(),!0},a.openSignin=function(){return g.signin(),a.showSignin=!0,!0},a.openSignup=function(){return g.signup(),a.showSignin=!1,!0},a.openResetPassword=function(){g.closeModal(),c.go("resetPassword")},a.goToAccount=function(){c.go("account"),g.closeModal()},a.login=function(){a.user.error="";var f=this;if(f.loginForm.$invalid||!a.user||!a.user.email||!a.user.password){var h=_.map(_.values(f.loginForm.$error)[0],"$name");return _.each(h,function(a){f.loginForm[a].$setValidity("required",!1),f.loginForm[a].$setTouched(!0)}),!1}return b.post(e.signinEndpoint,a.user).then(function(a){d.login(a),c.go("account"),g.closeModal()})["catch"](function(b){a.user.error="Invalid email address or password",d.logout()})},a.signup=function(){a.user.error="";var c=this;if(c.signupForm.email.$setValidity("validationError",!0),c.signupForm.$invalid||!a.user||!a.user.fullName||!a.user.email||!e.previewEndpoint){var h=_.map(_.values(c.signupForm.$error)[0],"$name");return _.each(h,function(a){c.signupForm[a].$setValidity("required",!1),c.signupForm[a].$setTouched(!0)}),!1}var i=_.assign(a.user,_.pick(f.get(),"restaurantMasterId"));return b.post(e.signupEndpoint,i).then(function(a){d.login(a),g.closeModal(),g.confirmation()})["catch"](function(b){console.error(b),a.user.error=b.data.message,"ValidationError"===b.data.error.type&&c.signupForm.email.$setValidity("validationError",!1),d.logout()})},a.changePasswordWithToken=function(){a.user.error="";var c,d=this,f={};if(d.changePasswordForm.confirmPassword.$setValidity("notMatch",!0),d.changePasswordForm.$invalid||!a.user.newPassword||!a.user.confirmPassword){var g=_.map(_.values(d.changePasswordForm.$error)[0],"$name");return _.each(g,function(a){d.changePasswordForm[a].$setValidity("required",!1),d.changePasswordForm[a].$setTouched(!0)}),!1}return a.user.newPassword!==a.user.confirmPassword?(a.user.error="Your new passwords do not match.",d.changePasswordForm.confirmPassword.$setValidity("notMatch",!1),!1):(f=_.assign(a.user,h),c=h.userId,b.put(e.userEndpoint+c+"/changePasswordWithToken",f).then(function(b){return a.user.passwordChanged=!0,!0})["catch"](function(b){a.user.error="Something went wrong while changing your password",a.user.passwordChanged=!1,console.error(b)}))},a.changePasswordWithEmail=function(){a.user.error="";var c,d=this,f={};if(d.changePasswordForm.confirmPassword.$setValidity("notMatch",!0),d.changePasswordForm.$invalid||!a.user.newPassword||!a.user.confirmPassword){var h=_.map(_.values(d.changePasswordForm.$error)[0],"$name");return _.each(h,function(a){d.changePasswordForm[a].$setValidity("required",!1),d.changePasswordForm[a].$setTouched(!0)}),!1}return a.user.newPassword!==a.user.confirmPassword?(a.user.error="Your new passwords do not match.",d.changePasswordForm.confirmPassword.$setValidity("notMatch",!1),!1):(f=_.assign(a.user,{email:d.loggedInUser.email}),c=a.loggedInUser.userId,b.put(e.userEndpoint+c+"/changePassword",f).then(function(b){return a.user.passwordChanged=!0,g.closeModal(3e3),!0})["catch"](function(b){a.user.error="Something went wrong while changing your password",a.user.passwordChanged=!1,console.error(b)}))},a.resetPassword=function(){return a.user.email||(a.resetMailSent=!1,a.user.error="Please enter a valid e-mail address"),a.resetMailSent=!1,b.post("".concat(e.userEndpoint,"forgotPassword"),_.pick(a.user,"email")).then(function(b){a.resetMailSent=!0,g.closeModal()})["catch"](function(b){a.resetMailSent=!0,console.error(b)})},a.editUser=function(){var f=d.getUser().userId,h=this;if(a.user=a.loggedInUser,h.editForm.$invalid||!a.user.fullName||!a.user.email){var i=_.map(_.values(h.editForm.$error)[0],"$name");return _.each(i,function(a){h.editForm[a].$setValidity("required",!1),h.editForm[a].$setTouched(!0)}),!1}return b.put(e.userEndpoint+f,a.user).then(function(a){d.setUser(a.user),d.setToken(a.token),g.closeModal(),c.go(c.current,{},{reload:!0})})["catch"](function(b){return console.error(b),a.user.error="Something went wrong while updating your profile.",!1})},a.contactUs=function(){var c=_.assign(a.user,a.restaurant),d="".concat(e.restaurantEndpoint+a.restaurant.restaurantMasterId+"/notify/claimDispute");b.post(d,c).then(function(a){return g.thankYou(),!0})}}]),angular.module("tableHeroApp").config(["$stateProvider",function(a){a.state("login",{url:"/login",templateUrl:"app/user/login.html",controller:"UserController"}).state("logout",{url:"/logout",controller:["$scope","Auth","$state","$http","thConfig",function(a,b,c,d,e){var f=b.getUser(),g=b.getToken();c.go("landing"),d.post(e.signoutEndpoint,{email:f.email,token:g}),b.logout()}]}).state("resetPassword",{url:"/resetPassword",templateUrl:"app/user/email-password-reset.html",controller:"UserController"}).state("changePassword",{url:"/changePassword?resetPasswordToken&userId",templateUrl:"app/user/change-password.html",controller:"UserController"})}]),angular.module("tableHeroApp").directive("capitalize",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){var e=function(a){void 0===a&&(a="");var c=a.split(" ").map(function(a){return(void 0===a[0]?"":a[0].toUpperCase())+(void 0===a.substring(1)?"":a.substring(1).toLowerCase())}).join(" "),e=b[0].selectionStart;return c!==a&&(d.$setViewValue(c),d.$render()),b[0].selectionStart=e,b[0].selectionEnd=e,c};d.$parsers.push(e),e(a[c.ngModel])}}}),angular.module("tableHeroApp").directive("inputLength",function(){return{restrict:"A",link:function(a,b,c){var d=parseInt(c.inputLength);angular.element(b).on("keypress",function(a){this.value.length>=d&&a.preventDefault()}),angular.element(b).on("paste",function(a){var b=this;setTimeout(function(){b.value.length>=d&&(b.value=b.value.substr(0,50))},100)})}}}),angular.module("tableHeroApp").directive("scroll",["$window",function(a){return function(b,c,d){angular.element(a).bind("scroll",function(){this.pageYOffset>=100?b.boolChangeClass=!0:b.boolChangeClass=!1,b.$apply()})}}]),angular.module("tableHeroApp").directive("thfooter",function(){return{templateUrl:"components/footer/footer.html",restrict:"E",link:function(a,b){b.addClass("footer")}}}),angular.module("tableHeroApp").factory("Modal",["$rootScope","$uibModal",function(a,b){var c;return{signup:function(){return c&&c.close(),c=b.open({templateUrl:"components/modal/signup/signup-modal.html",controller:"UserController"})},signin:function(){return c&&c.close(),c=b.open({templateUrl:"components/modal/signin/signin-modal.html",controller:"UserController"})},confirmation:function(){return c=b.open({templateUrl:"components/modal/confirmation/confirmation.html",controller:"ConfirmationController"})},claimError:function(){return c&&c.close(),c=b.open({templateUrl:"components/modal/claim-error/error.html",controller:"UserController"})},notAllowedError:function(){return c&&c.close(),c=b.open({templateUrl:"components/modal/not-allowed/error.html",controller:"UserController"})},editprofile:function(){return c&&c.close(),c=b.open({templateUrl:"components/modal/edit-profile/edit-profile.html",controller:"UserController"})},changePassword:function(){return c&&c.close(),c=b.open({templateUrl:"components/modal/change-password/change-password.html",controller:"UserController"})},thankYou:function(){return c&&c.close(),c=b.open({templateUrl:"components/modal/thank-you/thank-you.html",controller:"UserController"}),this.closeModal(3e3),c},closeModal:function(a){return c&&(a&&setTimeout(c.close,a),c.close()),!0}}}]),angular.module("tableHeroApp").controller("THNavbarController",["Auth",function(a){this.isLoggedIn=a.isLoggedIn(),this.user=a.getUser()}]),angular.module("tableHeroApp").directive("thnav",function(){return{templateUrl:"components/navbar/navbar.html",restrict:"E",controller:"THNavbarController",controllerAs:"nav"}}),angular.module("tableHeroApp").run(["$templateCache",function(a){a.put("app/account/account.html",'<thnav></thnav><div class="account-page clearfix"><div class="alert alert-success" role=alert ng-show=verificationMailSent><div class=alert-text><i class=green-tick></i>Sent! Check your email to verify.</div></div><div class=container><div class=row><!-- <div class="col-md-8 col-sm-7" ng-class="isVerified ? \'\' : \'disable-overlay\'"> --><div class="col-md-8 col-sm-7"><div class="yourSites box"><div class=title><h5 class=pull-left>Your Sites</h5><a class="btn-secondary pull-right" ui-sref=landing>Claim more</a></div><div class=sites ng-repeat="restaurantData in restaurants"><div class=sep-line></div><div class=item><h4 class=th-item>{{restaurantData.name}}, {{restaurantData.address.city}}</h4><h6><a href={{restaurantData.previewUrl}} target=_blank>{{restaurantData.previewUrl}}</a></h6></div><div class=th-link><a href=javascript:void(0) ng-click=goToManage(restaurantData.restaurantMasterId) ng-class="{\'disabled-link\': !(restaurantData.isVerified)}">Manage</a></div><div class="alert alert-info" role=alert><div class="status-text status-complete"><div class=status-content><img src=../../assets/images/common/icons/tick.svg alt=""><p>Site Reserved</p></div></div><div class="status-text status-complete" ng-show=restaurantData.isVerified><div class=status-content><img src=../../assets/images/common/icons/tick.svg alt=""><p>Business verified</p></div></div><div class="status-text status-current" ng-show=!restaurantData.isVerified><span class=status-count>2</span><div class=status-content><p>verify your business</p><p>To manage your site, verify your business.<br><a href=javascript:void(0) ng-click=resendVerificationMail(restaurantData.restaurantMasterId)>Resend verification instructions</a> to your registered email ID.</p></div></div><div class="status-text status-disabled" ng-show="!restaurantData.isVerified && !restaurantData.isMigrated"><p class=status-count>3</p><div class=status-content><p>link your domain</p></div></div><div class="status-text status-current status-last" ng-show="restaurantData.isVerified && !restaurantData.isMigrated"><span class=status-count>3</span><div class=status-content><p>link your domain</p><p>Direct all you customers to your new TableHero site.<br><a href=javascript:void(0) ng-click=goToDns(restaurantData.restaurantMasterId)>Link your domain.</a></p></div></div></div></div></div></div><div class="col-md-4 col-sm-5"><!-- gutter starts --><div class="profile box profile-box"><div class=title><h5>Profile</h5></div><div class=info><i class=icon-icon-profile></i><h4 class=name>{{user.firstName}} {{user.lastName}}</h4></div><div class=info><i class=icon-icon-mail></i><h4 class=email>{{user.email}}</h4></div><div class=info><i class=icon-icon-phone></i><h4 class=phone ng-show={{user.phone}}>{{user.phone}}</h4><div class=th-link2 ng-hide={{user.phone}}><a href=javascript:void(0) id=addMobileNo ng-click=openEditDialog()>Add Mobile Number</a></div></div><div class=th-link3><a href=javascript:void(0) ng-click=openEditDialog()>Edit Profile</a></div><div class=th-link3><a href=javascript:void(0) ng-click=openChangePasswordDialog()>Change Password</a></div></div><!-- gutter ends --></div></div></div></div><thfooter></thfooter>'),
a.put("app/admin/admin-dashboard.html","<h2>Welcome to the admin dashboard</h2>"),a.put("app/admin/admin-login.html",'<div class="admin-login-page clearfix"><div class=container><div class="admin-login-container col-md-offset-3 col-md-6"><a href=javascript:void(0) ui-sref=landing class=clearfix><img src=../../assets/images/common/logos/logo-th-black.svg class=logo></a><h2>Admin Login</h2><div class=underline></div><div class=login-content><form class=admin-login-form name=adminLoginForm novalidate ng-submit=adminLogin()><!-- Email input --><span class="icon-prefix-container relative"><img class="icon-prefix icon-email" src="../../assets/images/common/icons/email.svg"><div class=verticalLine></div><input class=form-control type=email placeholder="Email address" name=email ng-model=user.email></span><!-- Password input --> <span class="icon-prefix-container relative"><img class="icon-prefix icon-password" src="../../assets/images/common/icons/password.svg"><div class=verticalLine></div><input class=form-control type=password placeholder=Password name=password ng-model=user.password></span><!-- Error message from server --><div class=input-error ng-model=user.error>{{user.error}}</div><!-- Login button --><div class=wrapper><button type=submit class="btn btn-primary" id=loginSubmit value="Sign in">Login in</button></div></form><div><span class=seperator>or</span><div class=wrapper><button type=submit class="btn btn-primary google-login-button">Login with google</button></div></div></div></div></div></div>'),a.put("app/confirmation/confirmation.html",'<thnav></thnav><div class="confirmation-page clearfix"><div class=th-header><h2 class=th-page-title>Congratulations, {{firstName}}!</h2><h1 class=th-page-subtitle>Your site is live!</h1></div><div class=container><div class=row><!-- row starts --><div class="col-md-12 box"><div class=title>View your new site at:</div><div><a class=link href={{previewUrl}} target=_blank>{{previewUrl}}</a></div><div class=underline></div><div class=row><div class="content col-md-4 col-sm-4 col-md-offset-4 col-sm-offset-4">Before you get started, we need to quickly verify your business.</div></div><div class=row><div class="content col-md-4 col-sm-4 col-md-offset-4 col-sm-offset-4">Please check your email <span class=bold>{{email}}</span><br>to verify.</div></div><button class="btn btn-primary" ui-sref=account>OK</button><div class=row><div class="content col-md-4 col-sm-4 col-md-offset-4 col-sm-offset-4">If you have any questions, contact us: <a href="mailto:support@tablehero.com?Subject=Verification%20e-mail%20not%20recieved" target=_top class=dull>support@tablehero.com</a></div></div></div></div></div><!-- row ends --><div class=container><div class=row><div class="faq clearfix"><!-- FAQ starts --><h2 class=faq-header>Frequently asked questions</h2><div class=cf><!-- cf starts --><div class=col-wrapper><div class=col-1-3><h4 class=faq-question>Why should I verify my business?</h4><p class=th-ans>Verifying your business helps us ensure that you are in fact you. Your TableHero site can only be made modified with a verified business account. We will never spam you, sell your email address, or engage in other nefarious activities. Pinky swear.</p></div><div class=col-1-3><h4 class=faq-question>How do I verify my business?</h4><p class=th-ans>Check your inbox immediately after signing up. You should have an email from support@tablehero.com with the verification instructions in it. If you can’t find the email in your inbox (or, God forbid, your Spam folder!), you can log into your account on TableHero.com, and click on the resend verification email button on the accounts page. And, of course, if all this is just too much to handle, please feel free to send us a note on support@tablehero.com.</p></div><div class=col-1-3><h4 class=faq-question>I haven’t received the verification email message from TableHero Support. What should I do?</h4><p class=th-ans>You’ve looked through your inbox and your spam folders, right? Ok, if you still can’t find the verification email, log into your account on TableHero.com, check that you have provided the correct email address, and click on the resend verification email button on the accounts page. Still having problems? Yikes! Email us at support@tablehero.com</p></div></div></div><!-- cf ends --></div></div></div><!-- FAQ ends --></div><!-- container ends --><thfooter></thfooter>'),a.put("app/dns/dns.html",'<thnav></thnav><div class="dns-page clearfix"><div class=th-header><h2 class=th-page-title>Link your site</h2></div><div class=container><div class=col-xs-12><div class="box clearfix"><div class="form-group col-md-5 col-xs-12 clearfix"><label for=website class=input-label>Link your existing site</label><input class=form-control type=url placeholder="Enter your website url" value={{website}}></div><div class="col-md-2 col-xs-12 icon-icon-link clearfix"></div><div class="col-md-5 col-xs-12 clearfix"><h5 class=input-label>To your Tablehero site</h5><a href={{previewUrl}} class=site-link>{{previewUrl}}</a></div><div class="col-md-5 col-xs-12 link-site" ng-show=isRegistrarAvailable><label for=website class=input-label>How do you link your site?</label><div id=helpBlock class=help-ans>We see that your current site is hosted on {{dnsInfo[\'Registrar\']}}. Please share your account details</div></div><div class="col-md-5 col-xs-12" ng-hide=isRegistrarAvailable><label for=website class=input-label>Please share your registrar account details</label></div><form class="form-group col-md-5 col-xs-12 form-2" name=dnsForm novalidate ng-submit=saveDnsInfo()><select class=form-control name=registrarName ng-model="dnsInfo[\'Registrar\']" ng-required=true ng-hide=isRegistrarAvailable><option value="" selected>Select Account</option><option ng-repeat="registrar in defaultRegistrars" value={{registrar}}>{{registrar}}</option></select><input class=form-control ng-show=isRegistrarAvailable value="{{dnsInfo[\'Registrar\']}}" disabled> <input placeholder="Your registrar email" ng-model="dnsInfo[\'Registrant Email\']" class=form-control ng-required=true> <input type=password placeholder="Your registrar password" ng-model="dnsInfo[\'Registrant Password\']" class=form-control ng-required=true> <button class="btn btn-primary" type=submit>Save</button><label for=website class=input-label>Or</label><div id=helpBlock class=help-ans>Just send us a note on <a href="mailto:support@tablehero.com?subject=DNS%20migration%20help%20for%20{{restaurant.restaurantMasterId}}">support@tablehero.com</a> or call us on +1 (408) 767-4886 and our team will help you out.</div><span id=helpBlock class=help-block><a ui-sref=account>Skip it,</a> I don\'t have a website.</span></form></div></div><div class=col-xs-12><div class=faq><!-- FAQ starts --><h2 class=faq-header>Frequently asked questions</h2><div class="cf clearfix"><!-- cf starts --><div class=col-wrapper><div class="col-xs-12 col-sm-4"><h4 class=faq-question>Why should I link my domain to TableHero website?</h4><p class=th-ans>Linking your existing domain to your new TableHero website will ensure that your online visitors will see the new beautifully designed website. In order for that to happen, we need to make some changes in your domain registrar account (i.e your GoDaddy account, for example). Once those changes are made, it can take 24-48 hours for the changes to be visible.</p></div><div class="col-xs-12 col-sm-4"><h4 class=faq-question>Why should I share my domain credentials with TableHero?</h4><p class=th-ans>First up, your domain credentials are safe with TableHero. Second, we need it to redirect your web traffic to your TableHero site. If you do not wish to share your domain credentials with us, please write to us at support@tablehero.com and we will talk you through the migration process.</p></div><div class="col-xs-12 col-sm-4"><h4 class=faq-question>Will my website experience ‘any’ downtime?</h4><p class=th-ans>Not if we can help it :-) TableHero does not have any scheduled downtime at the moment. We will be sure to make such information available to you, as early as possible.</p></div></div><div class=col-wrapper><div class="col-xs-12 col-sm-4"><h4 class=faq-question>How do I verify my email address?</h4><p class=th-ans>Check your inbox immediately after signing up. You should have an email from <b>support@tablehero.com</b> with a clickable verification link in it. If you can’t find the email in your inbox (or, God forbid, your Spam folder!), you can log into your account on TableHero.com, and click on the <b>resend verification email</b> button on the accounts page. And of course, if all this is just too much to handle, please feel free to send us a note on <b>support@tablehero.com</b></p></div><div class="col-xs-12 col-sm-4"><h4 class=faq-question>What do I do if I no longer have access to the contact email account on record with Tablehero?</h4><p class=th-ans>Log in with the credentials you have and you can change your email address on the accounts page. Please note that you will have to verify your email address again.</p></div><div class="col-xs-12 col-sm-4"><h4 class=faq-question>How do I log feature requests and submit feedback?</h4><p class=th-ans>Nice! Please email us at support@tablehero.com and one of our heroes will get back to you.</p></div></div></div><!-- cf ends --></div></div></div></div><!-- FAQ ends --><!-- container ends --><thfooter></thfooter>'),a.put("app/faq/faq.html",'<thnav></thnav><div class=faq-page><div class=container><div class=row><h2 class="faq-header col-md-12">Frequently asked questions</h2></div><accordion class=accordion><accordion-group ng-repeat="faq in faqs"><accordion-heading><h4 class=faq-question>{{faq.question}}</h4></accordion-heading><p class=th-ans>{{faq.answer}}</p></accordion-group></accordion></div></div><thfooter></thfooter>'),a.put("app/landing/landing.html",'<div class="landing-page clearfix"><!-- Default navbar on landing page --><div class="landing-navbar navbar clearfix" scroll ng-class={whitebg:boolChangeClass}><nav><a href=/ class=desktop-logo><img src=../../assets/images/common/logos/logo-beta.svg class="logo white-logo" alt="TableHero Beta Logo"> <img src=../../assets/images/common/logos/logo-text-black.svg class="logo black-logo" alt="TableHero Logo"></a> <a href=/ class=mobile-logo><img src=../../assets/images/common/logos/logo-white.svg class="logo-mobile white-logo" alt="TableHero mobile logo"> <img src=../../assets/images/common/logos/logo-black.svg class="logo-mobile black-logo" alt="TableHero Logo"></a> <button class="btn btn-primary pull-right hidden get-started-btn" ng-click=getStarted() value="Build my free site" spark-scroll-animate="{\n                            \'topTop+350\': {\'downRemoveClass,upAddClass\': \'hidden\'},\n                            \'topTop+360\': { marginRight: \'-200px\', opacity: 0 },\n                            \'topTop+500\': { marginRight: \'10px\', opacity: 1, ease: \'linear\' },\n                            \'topBottom\': { marginRight: \'10px\'}\n                            }">Get started</button><!-- This is the dropdown bar --> <span uib-dropdown class="dropdown pull-right navbar-menu clearfix"><a ng-show=isLoggedIn uib-dropdown-toggle class=nav-link>{{ user.firstName }} <svg class=dropdown-arrow width=16px height=10px viewBox="0 0 16 10" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><!-- Generator: Sketch 3.7.2 (28276) - http://www.bohemiancoding.com/sketch --><title>icon-rightarrow</title><desc>Created with Sketch.</desc><defs></defs><g id=Page-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd><g id=7C.-Link-your-domain class=svg-bg transform="translate(-1176.000000, -31.000000)"><g id=preview-bar transform="translate(0.000000, -1.000000)"><g id=Group-3 transform="translate(916.000000, 23.000000)"><g id=Group-2><g id=icon-rightarrow transform="translate(268.000000, 14.000000) rotate(-270.000000) translate(-268.000000, -14.000000) translate(259.000000, 5.000000)"><path d="M2.78846216,5.34811665 L8.77417276,11.7030136 L8.99910727,11.9418217 L9.22404179,11.7030136 L15.2097524,5.34811665 C15.3331415,5.21715408 15.5331678,5.21715408 15.6582001,5.34896088 C15.7807274,5.4790115 15.7807274,5.69068907 15.6574338,5.82155024 L9.22316764,12.6511895 C9.16291553,12.7157885 9.0831578,12.75 8.99910727,12.75 C8.91549572,12.75 8.83697273,12.7161781 8.77982619,12.6540549 L2.3424702,5.82155024 C2.2191766,5.69068907 2.2191766,5.4790115 2.3424702,5.34815034 C2.46576381,5.21728917 2.66520029,5.21728917 2.78849389,5.34815034 L2.78846216,5.34811665 Z" id=Shape transform="translate(9.000000, 9.000000) scale(-1, -1) rotate(-270.000000) translate(-9.000000, -9.000000) "></path></g></g></g></g></g></g></svg></a><ul uib-dropdown-menu><li><a ui-sref=account ng-show=isLoggedIn>My Account</a></li><li><a ui-sref=logout ng-show=isLoggedIn>Sign out</a></li></ul></span> <a ui-sref=login ng-hide=isLoggedIn class=nav-link>Sign in</a></nav></div><!-- Fixed navbar on landing page which appears after scrolling 30px --><!-- <div class="landing-fixed-navbar navbar hidden clearfix" spark-scroll-animate="{\n            \'topTop+30\' : {opacity: 0, \'downRemoveClass,upAddClass\': \'hidden\'},\n            \'topTop+70\' : {opacity: 1}\n        }">\n        <nav>\n            <a href="/">\n                <img src="../../assets/images/common/logos/logo-text-black.svg" class="logo" alt="TableHero Logo"/>\n            </a>\n            <a href="/">\n                <img src="../../assets/images/common/logos/logo-black.svg" class="logo-mobile" alt="TableHero Logo"/>\n            </a>\n            <button class="btn btn-primary pull-right hidden" ng-click="getStarted()" value="Build my free site" spark-scroll-animate="{\n                            \'topTop+350\': {\'downRemoveClass,upAddClass\': \'hidden\'},\n                            \'topTop+360\': { marginRight: \'-200px\', opacity: 0 },\n                            \'topTop+760\': { marginRight: \'0px\', opacity: 1, ease: \'linear\' }\n                            }">Get started</button>\n            <a ui-sref="login" ng-hide="isLoggedIn" class="nav-link">Sign in</a>\n            <span uib-dropdown class="pull-right clearfix">\n                <a ng-show="isLoggedIn" uib-dropdown-toggle class="nav-link">{{ user.firstName }}</a>\n                <ul uib-dropdown-menu>\n                    <li>\n                        <a ui-sref="account" ng-show="isLoggedIn">My Account</a>\n                    </li>\n                    <li>\n                        <a ui-sref="logout" ng-show="isLoggedIn">Sign out</a>\n                    </li>\n                </ul>\n            </span>\n        </nav>\n    </div> --><!-- First fold of the landing page --><section class=first-fold id=firstFold><div class=color-overlay></div><div class="container clearfix"><h1 class="col-md-offset-3 col-md-6 col-sm-12">Your beautiful restaurant website in one click</h1><h5 class="live-here col-md-offset-3 col-md-6 col-sm-12">Only available in Portland, Oregon</h5><!-- Autosuggest form --><form name=lookup id=lookup class="autosuggest-form col-md-offset-1 col-md-10 col-sm-12" autocomplete=off novalidate><input name=restaurantName id=restaurantName placeholder="Enter your restaurant name" uib-typeahead="displayValue as restaurant.displayValue for restaurant in suggestRestaurants($viewValue)" typeahead-min-length=3 typeahead-focus-first=true typeahead-wait-ms=300 typeahead-on-select="onRestaurantSelect($item, $model, $label)" ng-model=restaurant ng-required=true ng-focus=hideError() autofocus autocomplete=off><div class=error-container><span class="hint error" ng-if=showEmptyError>Please enter a restaurant name.</span> <span class="hint error" ng-if=showValidationError>Sorry, we couldn\'t find your restaurant. To get your website <a href="mailto:support@tablehero.com?subject=Cannot find restaurant">drop us a line.</a></span></div><button class="btn btn-primary btn-lg" type=submit value="Build my free site" ng-click=checkError()>Build my free site</button></form><!-- Watch the video link --><a href=javascript:void(0) class="play-link col-md-12 clearfix" ng-click=gotoVideo()><img src=../../assets/images/landing/play-link.svg alt="Watch the video"> <span>Watch the video</span></a></div></section><!-- Second fold containing the effortless section --><section class="block-effortless off-white clearfix"><div class=container><h1 class="col-md-offset-3 col-md-6 col-sm-12">Effortless</h1><p class="col-md-12 col-sm-12">Never pay a web developer to update your website again. TableHero automatically refreshes your website with new reviews, pictures and menus all sourced from trusted sites.</p><img src=../../assets/images/landing/data-sources.png class="data-sources hidden-xs col-md-offset-1 col-md-10 col-sm-12" alt="TableHero restaurant data sources"> <img src=../../assets/images/landing/mobile-shot.png class="section-img website-screenshot col-md-offset-1 col-md-10 col-sm-12" alt="TableHero restaurant website screenshot" spark-scroll-animate="{\n                        \'topBottom+10\' : { scale: 0.01, opacity: 0.1, transform: \'translate3d(0px,+150px,0px)\'},\n                        \'topCenter\'     : { scale: 1, opacity: 1, transform: \'translate3d(0px,0px,0px)\'}\n                    }"></div></section><!-- Third fold containing the always mobile section --><section class="block-always-mobile clearfix"><div class=container><div class="col-md-4 col-sm-12"><img src=../../assets/images/landing/mobile.svg alt="Mobile phone icon"><h1 class="col-md-12 col-sm-12">Always Mobile</h1><p class="col-md-12 col-sm-12">Your customers are on the go, smartphones in hand. With TableHero, your website looks beautiful on all mobile devices, all the time.</p></div><div class="col-md-offset-1 col-md-7 col-sm-12"><img src=../../assets/images/landing/product.png class="section-img responsive-screenshot col-md-12" alt="TableHero restaurant website mobile screenshot" spark-scroll-animate="{\n                    \'topBottom+200\'  : { scale: 0.01, opacity: 0, transform: \'translate3d(0px,+200px,0px)\'},\n                    \'topBottom+450\'  : { scale: 1, opacity: 1, transform: \'translate3d(0px,0px,0px)\'}\n                }"></div></div></section><!-- Hide this section for devices with width less than 768px --><section class="block-best-foot off-white hidden-sm hidden-xs"><div class=container><div class="col-md-6 col-sm-12 pattern-bg"><img src=../../assets/images/landing/reviews.png class="section-img best-reviews col-md-12 col-sm-12" alt="TableHero restaurant website best reviews" spark-scroll-animate="{\n                    \'topBottom\'  : { scale: 0.01, opacity: 0, transform: \'translate3d(0px,+200px,0px)\'},\n                    \'topBottom+400\'   : { scale: 1, opacity: 1, transform: \'translate3d(0px,0px,0px)\'}\n                }"></div><div class="col-md-offset-2 col-md-4 col-sm-12"><img src=../../assets/images/landing/review-icon.svg alt="TableHero reviews icon"><h1 class="col-md-12 col-sm-12">Put your best foot forward</h1><p class="col-md-12 col-sm-12">Only positive reviews make it to your site. Show the world why customers love you and stop being taken hostage by review sites!</p></div></div></section><!-- Show this section for devices with width less than 768px --><section class="block-best-foot off-white visible-sm visible-xs"><div class=container><div class=col-sm-12><img src=../../assets/images/landing/review-icon.svg alt="TableHero reviews icon"><h1 class="col-md-12 col-sm-12">Put your best foot forward</h1><p class="col-md-12 col-sm-12">Only positive reviews make it to your site. Show the world why customers love you and stop being taken hostage by review sites!</p></div><div class="col-sm-12 pattern-bg"><img src=../../assets/images/landing/reviews.png class="section-img best-reviews col-md-12 col-sm-12" alt="TableHero restaurant website best reviews"></div></div></section><!-- Fifth fold showing our compatibility with other softwares --><section class="block-softwares clearfix"><div class=container><img src=../../assets/images/landing/gears.svg alt="TableHero website integrations"><h1 class="col-md-12 col-sm-12">Compatible with OpenTable and more</h1><p class="col-md-offset-3 col-md-6 col-sm-12">Your existing online reservations and ordering capabilities are automatically integrated.</p><img src=../../assets/images/landing/all-logo.png class="section-img all-logo col-md-12 col-sm-12" alt="TableHero integrates with OpenTable, GrubHub, SeatMe, Eat24 and many more"></div></section><!-- Sixth fold which shows the video --><section class="container block-video off-white clearfix" id=video ng-show=hideVideoFrame><a href=javascript:void(0) ng-show=hideVideoFrame ng-click=viewAd() class="col-md-12 col-sm-12" spark-scroll-animate="{\n'+"                    'topBottom+100'  : { scale: 0.01, opacity: 0, transform: 'translate3d(0px,+100px,0px)'},\n                    'topBottom+300'  : { scale: 1, opacity: 0.9, transform: 'translate3d(0px,0px,0px)'}\n                }\"><span class=play-button><img src=../../assets/images/landing/play.svg alt=\"TableHero restaurant website video\"> <span>Watch the video</span></span></a></section><div class=vimeo-video ng-hide=hideVideoFrame><iframe ng-src={{videoUrl}} frameborder=0 webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div></div><thfooter class=clearfix></thfooter>"),a.put("app/manage/manage.html",'<div class="manage-sites-page clearfix"><div class="top-bar clearfix"><div class="pull-left clearfix"><a ui-sref=account href=javascript:void(0)><i class=right-arrow></i></a> <span class=title>Manage home page</span></div><div class="pull-right clearfix"><div class=first-line><strong>Need help?</strong> <span>Send us an email at</span></div><div class=second-line><a href="mailto:support@tablehero.com?subject=Manage my website {{editedRestaurant.name}}">support@tablehero.com</a></div></div></div><div class="left-panel clearfix"><form class=manage-form name=manageForm novalidate ng-submit=updateRestaurant()><div class=th-form-field><label for=name class=th-label>Title</label><input class="form-control th-form-control" id=name placeholder="Restaurant name" ng-model=editedRestaurant.name ng-blur=reloadPreview()></div><div class=th-form-field><label for=description class=th-label>SubTitle</label><input class="form-control th-form-control" id=description placeholder="Restaurant description" ng-model=editedRestaurant.subtitle ng-blur=reloadPreview() ng-keyup=getInputLength($event) input-length=50><p class=count><span class=bold>{{subtitleLength}}</span> / 50</p></div><div class=th-form-field><label for=aboutUs class=th-label>About Us</label><textarea class="form-control th-form-control" rows=5 id=aboutUs placeholder="Tell us something about your restaurant" ng-model=editedRestaurant.aboutus.long ng-blur=reloadPreview() ng-trim=true ng-keyup=autoExpand($event)></textarea></div><div class=th-form-field><label for=template class=th-label>Template</label><select class="form-control th-form-control" name=template id=template ng-model=editedRestaurant.template ng-required=true ng-options="template as template for template in allTemplates"></select></div><div class=th-form-field><label for=theme class=th-label>Theme color</label><ul class=color-selector><li class=color-option ng-class="{selected: isThemeSelected()}" ng-click=changeTheme() ng-repeat="theme in templateThemes" style="background-color: {{theme.themeColor}}"></li></ul></div><div class=th-form-field><label for=logo class=th-label>Logo</label><img src={{photos.logo.url}} class="logo-placeholder"> <button type=file ngf-select="upload($file, $invalidFiles, \'logo\')" accept=image/* ngf-max-height=1000 ngf-max-size=2MB>Upload Logo</button><p class=hint-text>Your image should be atleast 250 by 250 px</p></div><div class=th-form-field><label for=cover class=th-label>Cover photo</label><img src={{photos.coverPhoto.url}} class="cover-placeholder"> <button type=file ngf-select="upload($file, $invalidFiles, \'bg\')" accept=image/* ngf-max-height=2000 ngf-max-size=5MB>Upload Cover Image</button><p class=hint-text>Your cover photo goes across the width of your site so, the image you pick has to be at least 720 px wide.</p></div><div class=th-form-field><label for=menu class=th-label>Menu</label><button type=file ngf-select="upload($file, $invalidFiles, \'menu\')" accept=*/* ngf-max-size=5MB>Upload Menu</button><p class=hint-text>For changes to your menu, just upload your menu here and we will automatically update the changes in 48 hours.</p></div><!-- <div class="th-form-field">\n                <label for="menu" class="th-label">Menu</label>\n                <p class="th-contact">For changes to your menu, please email us an attachment of your menu (any format works!) to\n                    <a href="mailto:menu@tablehero.com?subject=Menu%20for%20{{editedRestaurant.name}}%20">menu@tablehero.com</a> from your email id registered with us. Your menu will be automatically updated within 48 hours.</p>\n            </div> --><div class=button-wrapper><button type=submit class="btn btn-primary" value=Update>Update</button> <button type=button class="btn btn-primary" value=Reset ng-click=resetForm()>Reset</button></div></form></div><div class="right-panel clearfix"><div class=preview-header><span class=badge>Preview mode</span></div><div class=iframe-wrapper><iframe ng-src={{previewUrl}} align=middle></iframe></div></div></div>'),a.put("app/payment/payment.html",'<!-- <div class="payments-page clearfix">\n    <a href="">\n        <div class="logo-text"></div>\n    </a>\n    <div class="payments-main">\n        <p class="payments-welcome">Welcome {{user.fullName}}!</p>\n        <span class="payments-headline">\n          Start your 30 day trial\n      	</span>\n        <div class="payments-div-line"></div>\n    </div>\n    <div class="payment-options">\n        <div class="step1">\n            <h3>1. Choose your plan</h3>\n            <div class="payment-plans">\n                <div class="payment-plan active">\n                    <h1>$9</h1>\n                    <p class="uppercase">Monthly</p>\n                    <span>About 25&cent; a day!</span>\n                </div>\n                <div class="payment-plan">\n                    <h1>$90</h1>\n                    <p class="uppercase">Yearly</p>\n                    <span>Get 2 months free!</span>\n                </div>\n            </div>\n        </div>\n        <div class="step2">\n            <h3>2. Confirm your trial</h3>\n            <form name="lookup" class="lookup-form">\n                <input type="text" placeholder="1234 5678 9876" class="default-input" ng-model="paymentInfo.number">\n                <input type="text" placeholder="MM/YY" class="half-input" ng-model="paymentInfo.exp">\n                <input type="text" placeholder="CVV" class="half-input" ng-model="paymentInfo.cvc">\n                <input type="checkbox" name="tos" value="agree" class="tos-checkbox">\n                <label for="tos" class="label-checkbox">I agree to TableHero Terms and Service</label>\n                <button class="btn" ng-click="startTrial()">\n                    <span>START FREE TRIAL</span>\n                    <img src="../../assets/images/landing/ripple.svg" style="opacity: 0;">\n                </button>\n            </form>\n        </div>\n    </div>\n    <div class="payments-faq">\n        <hr class="hr-overlay">\n        <h1>frequently asked questions</h1>\n        <div class="faq-questions">\n            <div class="faq-question">\n                <h3>What do I get in free trial?</h3>\n                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sequi pariatur quam dolorem cupiditate nsapiente.</p>\n            </div>\n            <div class="faq-question">\n                <h3>What do I get in free trial?</h3>\n                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sequi pariatur quam dolorem cupiditate nsapiente.</p>\n            </div>\n            <div class="faq-question">\n                <h3>What do I get in free trial?</h3>\n                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sequi pariatur quam dolorem cupiditate nsapiente.</p>\n            </div>\n            <div class="faq-question">\n                <h3>What do I get in free trial?</h3>\n                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sequi pariatur quam dolorem cupiditate nsapiente.</p>\n            </div>\n            <div class="faq-question">\n                <h3>What do I get in free trial?</h3>\n                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sequi pariatur quam dolorem cupiditate nsapiente.</p>\n            </div>\n        </div>\n    </div>\n</div>\n<footer>\n    <div class="container">\n        <div class="copy">\n            <img src="../../assets/images/common/logo_black.svg">\n            <p>&copy; TableHero all rights reserved</p>\n        </div>\n        <div class="links">\n            <div class="link_block">\n                <h3>Company</h3>\n                <a href="">Blog</a>\n                <a href="">Jobs</a>\n                <a href="">FAQ</a>\n            </div>\n            <div class="link_block">\n                <h3>Social</h3>\n                <a href="">Twitter</a>\n                <a href="">Facebook</a>\n                <a href="">Instagram</a>\n            </div>\n            <div class="contact">\n                <h3>contact</h3>\n                <p>\n                    Send us an email at <a mailto="">info@tablehero.com</a>. We\'ll reply within 24 hours.\n                </p>\n            </div>\n        </div>\n    </div>\n</footer>\n -->'),a.put("app/preview/preview.html",'<div class=preview-page><div class=load-fade><div class=loader><!-- loader starts --><div id=container><!-- container starts --><div class=screen-wrapper><!-- screen-wrapper starts --><img src=../../assets/images/loader/screen.png alt=left><div class=insideScreen-wrapper><!-- insideScreen starts --><!-- gathering --><img src=../../assets/images/loader/text.png alt=left class=info> <img src=../../assets/images/loader/picture.png alt=left class=picture> <img src=../../assets/images/loader/reviews.png alt=left class=reviews> <img src=../../assets/images/loader/map.png alt=left class=map> <img src=../../assets/images/loader/pink.png alt=left class=pink><!-- building --> <img src=../../assets/images/loader/code.png alt=left class="code disappear"><!-- making it beautiful --> <img src=../../assets/images/loader/web1.png alt=left class=web1> <img src=../../assets/images/loader/web2.png alt=left class=web2> <img src=../../assets/images/loader/web3.png alt=left class=web3></div><!-- insideScreen ends --></div><!-- screen-wrapper ends --><h3 class=gathering-txt>Gathering Information</h3><h3 class=building-txt>Building your site</h3><h3 class=making-txt>Making it beautiful</h3><img src=../../assets/images/loader/web4.png alt=left class=web4></div><!-- container ends --></div><!-- loader ends --></div><div class="site-preview clearfix"><iframe ng-src={{previewUrl}} height=100% width=100%></iframe><div class="sticky-footer hidden-xs"><div class=pull-left><div class=logo-container><a ui-sref=landing><img src=../../assets/images/common/logos/logo-white.svg alt="TableHero logo"></a></div><div class=footer-text ng-bind=previewData.footerLine></div></div><div class="pull-right footer-button"><button class="btn btn-primary" ng-click=claim()>{{previewData.buttonText}} <img src=../../assets/images/common/icons/right-arrow-white.svg alt="Right arrow for claim button"></button></div></div><div class="sticky-footer visible-xs"><div class=footer-button><button class="btn btn-primary" ng-click=claim() ng-model=previewData.buttonText>{{previewData.buttonText}} <img src=../../assets/images/common/icons/right-arrow-white.svg alt="Right arrow for claim button"></button></div></div></div></div>'),
a.put("app/user/change-password.html",'<div class="reset-password-page clearfix"><div class=container><div class="resetcontainer col-md-offset-3 col-md-6"><!-- Alert text STARTS --><div class="alert alert-info" role=alert ng-show=user.passwordChanged><div class=alert-text>Your password has been successfully updated.</div></div><!-- Alert text ENDS --><a ui-sref=landing><img src=../../assets/images/common/logos/logo-th-black.svg class=logo></a><h2 class=modal-heading>Enter a new password</h2><div class=underline></div><div class=reset-content><form class=change-password-form name=changePasswordForm novalidate ng-submit=changePasswordWithToken()><!-- New password --><input type=password class="form-control current-password-input" id=newPassword name=newPassword placeholder="New Password" ng-model=user.newPassword ng-required=true ng-trim=true ng-minlength=6 ng-maxlength=20 ng-focus="newPasswordFocus=true" ng-blur="newPasswordFocus=false" ng-class="{\'form-error\': changePasswordForm.newPassword.$touched && changePasswordForm.newPassword.$invalid && !newPasswordFocus}"><div ng-messages=changePasswordForm.newPassword.$error class=password-error ng-if="(changePasswordForm.newPassword.$touched && changePasswordForm.$invalid && !newPasswordFocus)"><div ng-message=required>Please enter your new password.</div><div ng-message=minlength>Your new password should be at least 6 characters.</div><div ng-message=maxlength>Your new password must be less than 20 characters.</div></div><!-- Confirm new password --><input type=password class="form-control current-password-input" id=confirmPassword name=confirmPassword placeholder="Confirm Password" ng-model=user.confirmPassword ng-required=true ng-trim=true ng-focus="confirmPasswordFocus=true" ng-blur="confirmPasswordFocus=false" ng-class="{\'form-error\': changePasswordForm.confirmPassword.$touched && changePasswordForm.confirmPassword.$invalid && !confirmPasswordFocus}"><div ng-messages=changePasswordForm.confirmPassword.$error class=password-error ng-if="(changePasswordForm.confirmPassword.$touched && changePasswordForm.confirmPassword.$invalid && !newPasswordFocus)"><div ng-message=required>Please confirm your new password.</div></div><!-- Error message from server --><div class=input-error ng-model=user.error>{{user.error}}</div><div class=wrapper><button type=submit class="btn btn-primary" id=changePasswordSubmit value="Submit change password form">Submit</button></div></form></div></div></div></div><thfooter></thfooter>'),a.put("app/user/email-password-reset.html",'<div class="reset-password-page clearfix"><div class=container><div class="resetcontainer col-md-offset-3 col-md-6"><!-- Alert text STARTS --><div class="alert alert-info" role=alert ng-show=resetMailSent><div class=alert-text>Instructions to reset your password have been sent to you. Check your email.</div></div><!-- Alert text ENDS --><a ui-sref=landing><img src=../../assets/images/common/logos/logo-th-black.svg class=logo></a><h2 class=modal-heading>Forgot your password?</h2><div class=underline></div><div class=content>We’ll email you instructions on how to reset your password.</div><div class=reset-content><form class=reset-password-form name=resetPasswordForm novalidate ng-submit="resetPasswordForm.$valid && resetPassword()"><!-- Email input --><span class="icon-prefix-container relative"><img class="icon-prefix icon-email" src="../../assets/images/common/icons/email.svg"><div class=verticalLine></div><input class=form-control placeholder="Enter your e-mail address" name=email type=email ng-required=true ng-trim=true autofocus ng-pattern=/^[a-zA-Z0-9+&*-]+(?:\\.[a-zA-Z0-9_+&*-]+)*@(?:[a-zA-Z0-9-]{2,15}\\.)+[a-zA-Z]{2,7}$/ ng-model=user.email ng-focus="resetEmailFocus=true" ng-blur="resetEmailFocus=false" ng-class="{ \'form-error\': resetPasswordForm.email.$dirty && resetPasswordForm.email.$invalid && !resetEmailFocus }"></span><!-- Error messages for email field --><div ng-messages=resetPasswordForm.email.$error class=email-error ng-if="(resetPasswordForm.$submitted && resetPasswordForm.$invalid && !resetEmailFocus)"><div ng-message=required>Please enter your email address.</div><div ng-message=pattern>Please enter a valid email address.</div></div><div class=email-error ng-model=user.error>{{user.error}}</div><!-- Reset Password button --><div class=wrapper><button class="btn btn-primary" type=submit id=emailSubmit>Reset my password</button></div></form></div></div></div></div><thfooter></thfooter>'),a.put("app/user/login.html",'<div class="login-page clearfix"><div class=container><div class="logincontainer col-md-offset-3 col-md-6"><a href=javascript:void(0) ui-sref=landing><img src=../../assets/images/common/logos/logo-th-black.svg class=logo></a><h2 class=modal-heading>Sign in to your account</h2><div class=underline></div><div class=login-content><form class=login-form name=loginForm novalidate ng-submit=login()><!-- Email input --><span class="icon-prefix-container relative"><img class="icon-prefix icon-email" src="../../assets/images/common/icons/email.svg"><div class=verticalLine></div><input class="form-control login-form-email" type=email placeholder="Email address" name=email ng-required=true ng-trim=true ng-pattern=/^[a-zA-Z0-9+&*-]+(?:\\.[a-zA-Z0-9_+&*-]+)*@(?:[a-zA-Z0-9-]{2,15}\\.)+[a-zA-Z]{2,7}$/ ng-model=user.email ng-focus="loginEmailFocus=true" ng-blur="loginEmailFocus=false" ng-class="{\'form-error\': loginForm.email.$touched && loginForm.email.$invalid && !loginEmailFocus}"></span><div ng-messages=loginForm.email.$error class=email-error ng-if="(loginForm.email.$touched && loginForm.$invalid && !loginEmailFocus)"><div ng-message=required>Please enter your email address.</div><div ng-message=pattern>Please enter a valid email address.</div></div><!-- Password input --><span class="icon-prefix-container relative"><img class="icon-prefix icon-password" src="../../assets/images/common/icons/password.svg"><div class=verticalLine></div><input class="form-control login-form-password" type=password placeholder=Password name=password ng-required=true ng-trim=true ng-minlength=6 ng-maxlength=20 ng-model=user.password ng-focus="loginPasswordFocus=true" ng-blur="loginPasswordFocus=false" autocomplete=off ng-class="{ \'form-error\': loginForm.password.$dirty && loginForm.password.$invalid && !loginPasswordFocus }"></span><div ng-messages=loginForm.password.$error class=password-error ng-if="(loginForm.password.$dirty && loginForm.$invalid && !loginPasswordFocus)"><div ng-message=required>Please enter a password.</div><div ng-message=minlength>Your password should be at least 6 characters.</div><div ng-message=maxlength>Your password must be less than 20 characters.</div></div><!-- Error message from server --><div class=input-error ng-model=user.error>{{user.error}}</div><!-- Login button --><div class=wrapper><button type=submit class="btn btn-primary" id=loginSubmit value="Sign in">Sign in</button></div><!-- Forgot password link --><div class=login-form-link><a ui-sref=resetPassword>Forgot your password?</a></div></form></div></div></div><thfooter class=clearfix></thfooter></div>'),a.put("components/footer/footer.html",'<footer><div class=container><div class=copy><a ui-sref=landing><img src=../../assets/images/common/logos/logo-text-black.svg></a><!-- <p>&copy; TableHero all rights reserved</p> --> <span>Made with <i class="fa fa-heart pulse">&hearts;</i> in Mountain View and Bangalore</span></div><div class=links><div class=link_block><h3>Company</h3><a href=/faq target=_blank>FAQ</a> <a href=/tnc target=_blank>T &amp; C</a> <a href=/privacyPolicy target=_blank>Privacy Policy</a></div><div class=link_block><h3>Social</h3><a href=https://twitter.com/table_hero target=_blank>Twitter</a> <a href=https://www.facebook.com/tableheroapp/ target=_blank>Facebook</a> <a href=https://www.instagram.com/table.hero/ target=_blank>Instagram</a></div><div class=contact><h3>Contact Us</h3><p>Send us an email at <a href=mailto:support@tablehero.com>support@tablehero.com</a> We\'ll reply within 24 hours.</p></div></div></div></footer>'),a.put("components/modal/change-password/change-password.html",'<div class="close-btn th-close" ng-click=closeModal()></div><div class="modal-body password-modal"><div class="close-btn-mobile th-close" ng-click=closeModal()></div><div class="alert alert-info" role=alert ng-show=user.passwordChanged><div class=alert-text>Password successfully changed.</div></div><h2 class=modal-heading>Change password</h2><div class=content><form class=change-password-form name=changePasswordForm novalidate ng-submit=changePasswordWithEmail()><!-- Current password --><input type=password class="form-control current-password-input" id=currentPassword name=password placeholder="Current Password" ng-model=user.password ng-required=true ng-trim=true autofocus ng-focus="currentPasswordFocus=true" ng-blur="currentPasswordFocus=false" ng-class="{\'form-error\': changePasswordForm.password.$touched && changePasswordForm.password.$invalid && !currentPasswordFocus}"><div ng-messages=changePasswordForm.password.$error class=password-error ng-if="(changePasswordForm.password.$touched && changePasswordForm.$invalid && !currentPasswordFocus)"><div ng-message=required>Please enter your current password</div></div><!-- New password --><input type=password class="form-control current-password-input" id=newPassword name=newPassword placeholder="New Password" ng-model=user.newPassword ng-required=true ng-trim=true ng-minlength=6 ng-maxlength=20 ng-focus="newPasswordFocus=true" ng-blur="newPasswordFocus=false" ng-class="{\'form-error\': changePasswordForm.newPassword.$touched && changePasswordForm.newPassword.$invalid && !newPasswordFocus}"><div ng-messages=changePasswordForm.newPassword.$error class=password-error ng-if="(changePasswordForm.newPassword.$touched && changePasswordForm.$invalid && !newPasswordFocus)"><div ng-message=required>Please enter your new password.</div><div ng-message=minlength>Your new password should be at least 6 characters.</div><div ng-message=maxlength>Your new password must be less than 20 characters.</div></div><!-- Confirm new password --><input type=password class="form-control current-password-input" id=confirmPassword name=confirmPassword placeholder="Confirm Password" ng-model=user.confirmPassword ng-required=true ng-trim=true ng-focus="confirmPasswordFocus=true" ng-blur="confirmPasswordFocus=false" ng-class="{\'form-error\': changePasswordForm.confirmPassword.$touched && changePasswordForm.confirmPassword.$invalid && !confirmPasswordFocus}"><div ng-messages=changePasswordForm.confirmPassword.$error class=password-error ng-if="(changePasswordForm.confirmPassword.$touched && changePasswordForm.confirmPassword.$invalid && !newPasswordFocus)"><div ng-message=required>Please confirm your new password.</div></div><!-- Error message from server --><div class=input-error ng-model=user.error>{{user.error}}</div><div class=wrapper><button type=submit class="btn btn-primary" id=changePasswordSubmit value="Submit change password form">Submit</button></div></form></div></div>'),a.put("components/modal/claim-error/error.html",'<div class="close-btn th-close" ng-click=closeModal()></div><div class="claim-error modal-body"><div class="close-btn-mobile th-close" ng-click=closeModal()></div><!-- <div class="modal-heading-img">\n        <img src="../../../assets/images/modal/cat@2x.png" alt="Grumpy cat image" height="90">\n    </div>\n    <h2 class="modal-heading">Uh-oh!</h2>\n    <div class="underline"></div> --><div class=content><h4>This site has already been claimed and verified.</h4><h3>If that was you, please <a href=javascript:void(0) ng-click=openSignin()>sign in</a>.</h3><div class=support-copy><h5>Or, give us your email address and we\'ll get in touch!</h5><form class=contact-us name=contactForm novalidate ng-submit="contactForm.$valid && contactUs()"><span class="icon-prefix-container relative"><img class="icon-prefix icon-email" src="../../assets/images/common/icons/email.svg"><div class=verticalLine></div><input type=email class=form-control id=email name=email placeholder=Email ng-model=user.email ng-required=true ng-trim=true ng-pattern=/^[a-zA-Z0-9+&*-]+(?:\\.[a-zA-Z0-9_+&*-]+)*@(?:[a-zA-Z0-9-]{2,15}\\.)+[a-zA-Z]{2,7}$/ ng-class="{ \'form-error\': contactForm.email.$touched && contactForm.email.$invalid }"></span><div ng-messages=contactForm.email.$error class="email-error form-error" ng-if="(contactForm.email.$touched && contactForm.$invalid)"><div ng-message=required>Please enter your email address.</div><div ng-message=pattern>Please enter a valid email address.</div></div><button class="btn btn-primary">Send</button></form><div class=support-notification ng-model=user.message>{{user.message}}</div><a ui-sref=landing>Take me back</a></div><!--<h5>Have a question or a grumble? Write to us at</h5>\n        <h5><a href="mailto:support@tablehero.com?subject=I cannot claim, {{Restaurant.name}}" "email me">support@tablehero.com</a>. We\'ll help you resolve all your issues.</h5>--></div></div>'),a.put("components/modal/confirmation/confirmation.html",'<div class="modal-body confirmation-modal"><h2 class=modal-heading>Welcome, {{firstName}}!</h2><div class=steps><div class="status-text status-complete"><div class=status-content><img src=../../assets/images/common/icons/tick.svg alt=""><p>Site Reserved</p><a href={{previewUrl}} target=_blank>{{previewUrl}}</a></div></div><div class="status-text status-current"><span class=status-count>2</span><div class=status-content><p>please verify your business</p><div class=verify-info><p>Before you can get started,<br>we need to quickly verify your business. Please check your email {{email}} for instructions.</p><button class=btn ng-click=goToAccount()>Got it!</button></div></div></div><div class="status-text status-disabled status-last" ng-show="!restaurantData.isVerified && !restaurantData.isMigrated"><div class=status-content><p class=status-count>3</p><p>link your domain</p></div></div></div></div>'),a.put("components/modal/edit-profile/edit-profile.html",'<div class="close-btn th-close" ng-click=closeModal()></div><div class="edit-modal modal-body"><div class="close-btn-mobile th-close" ng-click=closeModal()></div><h2 class=modal-heading>Edit Profile</h2><div class=content><form class=edit-form name=editForm novalidate ng-submit=editUser()><!-- Full name --><span class="icon-prefix-container relative"><img class="icon-prefix icon-profile" src="../../assets/images/common/icons/name.svg"><div class=verticalLine></div><input class="form-control name-input" id=name name=name placeholder="Full name" ng-model=loggedInUser.fullName ng-required=true ng-trim=true autofocus ng-focus="editFullNameFocus=true" ng-blur="editFullNameFocus=false" ng-pattern="/^[-\'a-zA-ZÀ-ÖØ-öø-ſ ]+$/" ng-minlength=3 ng-class="{\'form-error\': editForm.name.$touched && editForm.name.$invalid && !editFullNameFocus}"></span><div ng-messages=editForm.name.$error class=input-error ng-if="(editForm.name.$touched && editForm.$invalid && !editFullNameFocus)"><div ng-message=required>Please enter your full name.</div><div ng-message=pattern>Please enter a valid name.</div><div ng-message=minlength>The name is too short</div></div><!-- email field --><span class="icon-prefix-container relative"><img class="icon-prefix icon-email" src="../../assets/images/common/icons/email.svg"><div class=verticalLine></div><input type=email class=form-control id=email name=email placeholder=Email ng-model=loggedInUser.email ng-required=true ng-trim=true ng-pattern=/^[a-zA-Z0-9+&*-]+(?:\\.[a-zA-Z0-9_+&*-]+)*@(?:[a-zA-Z0-9-]{2,15}\\.)+[a-zA-Z]{2,7}$/ ng-focus="emailFocus=true" ng-blur="emailFocus=false" ng-class="{ \'form-error\': editForm.email.$touched && editForm.email.$invalid  && !emailFocus }"></span><div ng-messages=editForm.email.$error class="email-error form-error" ng-if="(editForm.email.$touched && editForm.$invalid  && !emailFocus)"><div ng-message=required>Please enter your email address.</div><div ng-message=pattern>Please enter a valid email address.</div></div><!-- Phone number --><span class="icon-prefix-container relative"><img class="icon-prefix icon-phone" src="../../assets/images/common/icons/phone.svg"><div class=verticalLine></div><input type=phone class=form-control id=phone name=phone placeholder="Mobile number" ng-model=loggedInUser.phone ng-trim=true ng-minlength=10 ng-maxlength=10 ng-focus="phoneFocus=true" ng-blur="phoneFocus=false" ng-class="{ \'form-error\': editForm.phone.$touched && editForm.phone.$invalid && !phoneFocus }"></span><div ng-messages=editForm.phone.$error class="phone-error form-error" ng-if="(editForm.phone.$touched && editForm.$invalid && !phoneFocus)"><div ng-message=required>Please enter a phone number.</div><div ng-message=minlength>Your phone number should contain 10 digits.</div><div ng-message=maxlength>Your phone number should contain 10 digits.</div></div><!-- Submit error --><div ng-model=user.error class=input-error>{{user.error}}</div><!-- Submit button --><button type=submit class="btn btn-primary" id=editProfileSubmit value="Edit Profile">Submit</button></form></div></div>'),a.put("components/modal/not-allowed/error.html",'<div class="close-btn th-close" ng-click=closeModal()></div><div class="claim-error modal-body"><div class="close-btn-mobile th-close" ng-click=closeModal()></div><div class=modal-heading-img><img src=../../../assets/images/modal/cat@2x.png alt="Grumpy cat image" height=90></div><h2 class=modal-heading>Uh-oh!</h2><div class=underline></div><div class=content><h4>It looks like you already have a TableHero site.</h4><h3>We currently allow only one TableHero site per user.</h3><div class=support-copy><form class=contact-us><button class="btn btn-primary" ng-click=goToAccount()>Go to account</button></form><a class=closebtn ui-sref=landing>Take me back</a><h5>Have a question or a grumble? Write to us. <a href="mailto:support@tablehero.com?subject=I cannot claim the website for {{restaurant.name}}.">support@tablehero.com</a></h5></div></div></div>'),a.put("components/modal/signin/signin-modal.html",'<div class="close-btn th-close" ng-click=closeModal()></div><div class="modal-body signup-modal"><div class="close-btn-mobile th-close" ng-click=closeModal()></div><div class="signup-content th-fade th-fade-animation" ng-hide=showSignin><h2 class=modal-heading>Sweet! Let’s get you started.</h2><div class="signup-form-heading signin-form-heading clearfix"><h5 class=form-name><a href=javascript:void(0) ng-click=openSignup()>Sign up</a></h5><h5 class="form-name sign-in-link">Sign in</h5></div><div class=content><form class="login-form login-form-body" name=loginForm novalidate ng-submit="loginForm.$valid && login()"><!-- Email input --><span class="icon-prefix-container relative"><img class="icon-prefix icon-email" src="../../assets/images/common/icons/email.svg"><div class=verticalLine></div><input class="form-control login-form-email" type=email placeholder="Email address" name=email ng-required=true ng-trim=true autofocus ng-pattern=/^[a-zA-Z0-9+&*-]+(?:\\.[a-zA-Z0-9_+&*-]+)*@(?:[a-zA-Z0-9-]{2,15}\\.)+[a-zA-Z]{2,7}$/ ng-model=user.email ng-class="{ \'form-error\': loginForm.email.$touched && loginForm.email.$invalid }"></span><div ng-messages=loginForm.email.$error class=email-error ng-if="(loginForm.email.$touched && loginForm.$invalid)"><div ng-message=required>Please enter your email address.</div><div ng-message=pattern>Please enter a valid email address.</div></div><!-- Password input --><span class="icon-prefix-container relative"><img class="icon-prefix icon-password" src="../../assets/images/common/icons/password.svg"><div class=verticalLine></div><input class="form-control login-form-password" type=password placeholder=Password name=password ng-required=true ng-trim=true ng-minlength=6 ng-maxlength=20 ng-model=user.password ng-class="{ \'form-error\': loginForm.password.$touched && loginForm.password.$invalid }"> <a href=javascript:void(0) ng-click=openResetPassword() class=forgot-pass>Forgot password?</a></span><div ng-messages=loginForm.password.$error class=password-error ng-if="(loginForm.password.$touched && loginForm.$invalid)"><div ng-message=required>Please enter your password.</div></div><!-- Server error --><div ng-model=user.error class=input-error>{{user.error}}</div><!-- Login button --><button type=submit class="btn btn-primary" id=loginSubmit value=Login>Sign in</button><!-- Forgot password link --></form></div></div></div>'),a.put("components/modal/signup/signup-modal.html",'<div class="close-btn th-close" ng-click=closeModal()></div><div class="modal-body signup-modal th-fade"><div class="close-btn-mobile th-close" ng-click=closeModal()></div><div class="signup-content th-fade th-fade-animation" ng-hide=showSignin><h2 class=modal-heading>Sweet! Let’s get you started.</h2><div class="signup-form-heading clearfix"><h5 class=form-name>Sign Up</h5><h5 class=form-name><a href=javascript:void(0) ng-click=openSignin()>sign in</a></h5></div><div class=content><form class=signup-form-body name=signupForm novalidate ng-submit=signup()><span class="icon-prefix-container relative"><img class="icon-prefix icon-fullname" src="../../assets/images/common/icons/name.svg"><div class=verticalLine></div><input class="form-control name-input" id=name name=name placeholder="Full Name" ng-model=user.fullName ng-required=true ng-trim=true ng-pattern="/^[-\'a-zA-ZÀ-ÖØ-öø-ſ ]+$/" ng-minlength=3 autofocus ng-focus="nameFocus=true" ng-blur="nameFocus=false" ng-class="{ \'form-error\': signupForm.name.$touched && signupForm.name.$invalid && !nameFocus }" capitalize></span><div ng-messages=signupForm.name.$error class="name-error form-error" ng-if="(signupForm.name.$touched && signupForm.$invalid && !nameFocus)"><div ng-message=required>Please enter your name.</div><div ng-message=pattern>Please enter a valid name.</div><div ng-message=minlength>The name is too short.</div></div><!-- <h5>We recommend you to use your business email id for faster registeration. </h5>--><span class="icon-prefix-container relative"><img class="icon-prefix icon-email" src="../../assets/images/common/icons/email.svg"><div class=verticalLine></div><input type=email class=form-control id=email name=email placeholder=Email ng-model=user.email ng-required=true ng-trim=true ng-pattern=/^[a-zA-Z0-9+&*-]+(?:\\.[a-zA-Z0-9_+&*-]+)*@(?:[a-zA-Z0-9-]{2,15}\\.)+[a-zA-Z]{2,7}$/ ng-focus="emailFocus=true" ng-blur="emailFocus=false" ng-class="{ \'form-error\': signupForm.email.$touched && signupForm.email.$invalid  && !emailFocus }"></span><div ng-messages=signupForm.email.$error class="email-error form-error" ng-if="(signupForm.email.$touched && signupForm.$invalid  && !emailFocus)"><div ng-message=required>Please enter your email address.</div><div ng-message=pattern>Please enter a valid email address.</div></div><span class="icon-prefix-container relative"><img class="icon-prefix icon-password" src="../../assets/images/common/icons/password.svg"><div class=verticalLine></div><input type=password class=form-control id=password name=password placeholder=Password ng-model=user.password ng-required=true ng-trim=true ng-minlength=6 ng-maxlength=20 ng-focus="passwordFocus=true" ng-blur="passwordFocus=false" ng-class="{ \'form-error\': signupForm.password.$touched && signupForm.password.$invalid && !passwordFocus }"></span><div ng-messages=signupForm.password.$error class="password-error form-error" ng-if="(signupForm.password.$touched && signupForm.$invalid && !passwordFocus)"><div ng-message=required>Please enter a password.</div><div ng-message=minlength>Your password should be at least 6 characters.</div><div ng-message=maxlength>Your password must be less than 20 characters.</div></div><!-- <p>Tip: Choose a strong password with at least 8 characters. Try using uppercase letters, numbers, and symbols!</p> --><!-- Error message from server --><div class=input-error ng-model=user.error>{{user.error}}</div><!-- Login button --><div class=wrapper><button type=submit class="btn btn-primary" value="Sign up &amp; Continue">Sign up and continue</button></div></form></div></div><div class="signin-content content th-fade th-fade-animation" ng-show=showSignin><div class="signin-form-heading clearfix"><h5 class="form-name pull-left">Sign In</h5><h5 class="form-option pull-right">or <a href=javascript:void(0) ng-click=openSignup()>sign up</a></h5></div><form class="login-form login-form-body" name=loginForm novalidate ng-submit="loginForm.$valid && login()"><!-- Email input --><span class="icon-prefix-container relative"><img class="icon-prefix icon-email" src="../../assets/images/common/icons/email.svg"><div class=verticalLine></div><input class="form-control login-form-email" type=email placeholder="Email address" name=email ng-required=true ng-trim=true autofocus ng-pattern=/^[a-zA-Z0-9+&*-]+(?:\\.[a-zA-Z0-9_+&*-]+)*@(?:[a-zA-Z0-9-]{2,15}\\.)+[a-zA-Z]{2,7}$/ ng-model=user.email ng-class="{ \'form-error\': loginForm.email.$touched && loginForm.email.$invalid }"></span><div ng-messages=loginForm.email.$error class=email-error ng-if="(loginForm.email.$touched && loginForm.$invalid)"><div ng-message=required>Please enter your email address.</div><div ng-message=pattern>Please enter a valid email address.</div></div><!-- Password input --><span class="icon-prefix-container relative"><img class="icon-prefix icon-password" src="../../assets/images/common/icons/password.svg"><div class=verticalLine></div><input class="form-control login-form-password" type=password placeholder=Password name=password ng-required=true ng-trim=true ng-minlength=6 ng-maxlength=20 ng-model=user.password ng-class="{ \'form-error\': loginForm.password.$touched && loginForm.password.$invalid }"></span><div ng-messages=loginForm.password.$error class=password-error ng-if="(loginForm.password.$touched && loginForm.$invalid)"><div ng-message=required>Please enter your password.</div></div><!-- Server error --><div ng-model=user.error class=input-error>{{user.error}}</div><!-- Login button --><button type=submit class="btn btn-primary" id=loginSubmit value=Login>Sign in</button><!-- Forgot password link --><div class=login-form-link><a href=javascript:void(0) ng-click=openResetPassword()>Forgot your password?</a></div></form></div></div>'),a.put("components/modal/thank-you/thank-you.html",'<div class="close-btn th-close" ng-click=closeModal()></div><div class="thank-you-modal modal-body"><div class="close-btn-mobile th-close" ng-click=closeModal()></div><h2 class=modal-heading>Thank you!</h2><div class=underline></div><div class=content><h3 class=thank-you-content>We will get in touch over email soon!</h3><div class=wrapper><button class="btn btn-primary" value="Take me back" ui-sref=landing>Take me back</button></div></div></div>'),a.put("components/navbar/navbar.html",'<nav class="navbar navbar-default navbar-static-top"><div class=container><div><div class=navbar-header><a class=navbar-logo href="/"><img alt="TableHero Logo" src=../../assets/images/common/logos/logo-black.svg></a></div><div collapse=nav.isCollapsed class="navbar-collapse collapse" id=navbar-main><ul class="nav navbar-nav navbar-right"><li ng-hide=nav.isLoggedIn><a ui-sref=login>Sign in</a></li><li class=dropdown uib-dropdown on-toggle=toggled(open)><a href=# ui-sref=account ng-show=nav.isLoggedIn class=dropdown-toggle uib-dropdown-toggle>{{ nav.user.firstName }}<i class=dropdown-arrow></i></a><ul class=dropdown-menu uib-dropdown-menu aria-labelledby=login-dropdown><li><a ui-sref=logout ng-show=nav.isLoggedIn>Sign out</a></li></ul></li></ul></div></div></div></nav>')}]);